<template>
<div id="animation-background">
    <button @click="closeMe"><span>&times;</span></button>
    <section id="animation-container">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 211.667 64.214" id="welcome-animation">
        
            <path id="curly-left" class="default" 
                d="M21.067.018c-4.46 0-7.817.764-10.072 2.292-2.46 1.672-3.69 4.275-3.69 7.81v15.194c0 1.242-.436 2.102-1.308 2.58-.769.477-1.825.511-3.229.5-.873-.005-1.563.264-2.076.932C.231 29.9 0 31.206 0 32.113c0 .86.23 2.167.692 2.788.513.668 1.205.884 2.076.931 1.438.078 2.46.263 3.23.788.87.573 1.306 1.552 1.306 2.937v14.909c0 3.104 1.23 5.516 3.691 7.235 2.41 1.672 5.767 2.508 10.072 2.508.82.048 1.487-.263 2-.931.46-.574.691-1.88.691-2.788 0-.907-.23-1.671-.691-2.292-.513-.717-1.18-1.027-2-.932-2.358-.047-2.804-.262-3.624-.644-1.281-.526-1.922-1.6-1.922-3.224V38.346c0-1.194-.282-2.34-.846-3.439-.564-1.194-1.332-2.101-2.306-2.722a7.882 7.882 0 0 0 2.306-2.65 7.58 7.58 0 0 0 .846-3.511V11.818c0-1.432-.091-3.223 1.35-4.141 1.443-.919 2.044-.717 4.196-.717.82 0 1.487-.334 2-1.003.46-.62.692-1.36.692-2.22 0-.908-.231-2.239-.692-2.86-.513-.668-1.18-.955-2-.86z"/>

            
            <g id="logo-p" class="orange">
                <path d="M36.718 16.053h6.48c1.196 0 2.16.955 2.16 2.14v38.53c0 1.185-.964 2.14-2.16 2.14h-6.48a2.146 2.146 0 0 1-2.16-2.14v-38.53c0-1.185.963-2.14 2.16-2.14z"/>
                <path d="M49.677 16.053c-1.197 0-2.16.955-2.16 2.141v6.421c0 1.186.963 2.141 2.16 2.141h10.8v10.702h-10.8c-1.197 0-2.16.955-2.16 2.14v6.422c0 1.186.963 2.14 2.16 2.14h19.438c1.197 0 2.16-.954 2.16-2.14V18.194c0-1.186-.963-2.14-2.16-2.14H63.95z"/>
            </g>
        
            
            <path id="logo-dash" class="default" 
                d="M75.595 26.756h10.8c1.196 0 2.16.954 2.16 2.14v6.422c0 1.185-.964 2.14-2.16 2.14h-10.8a2.146 2.146 0 0 1-2.16-2.14v-6.422c0-1.186.964-2.14 2.16-2.14z"/>
            
            
            <g id="logo-k" class="default">
                <path d="M92.874 5.351h6.48c1.196 0 2.16.955 2.16 2.14V46.02c0 1.186-.964 2.14-2.16 2.14h-6.48a2.146 2.146 0 0 1-2.16-2.14V7.492c0-1.186.964-2.14 2.16-2.14z"/>
                <path d="M116.633 16.053c-1.197 0-2.16.955-2.16 2.14v8.563h-8.64c-1.193-.085-2.16.954-2.16 2.14v6.421c0 1.186.964 2.141 2.16 2.141h8.64v8.562c-.17 1.174.963 2.14 2.16 2.14h6.48c1.196 0 2.16-.954 2.16-2.14v-6.422c0-1.185-.964-2.14-2.16-2.14h-3.24V26.756h3.24c1.184.167 2.16-.955 2.16-2.14v-6.422c0-1.186-.964-2.14-2.16-2.14z"/>
            </g>
            
            
            <g id="logo-i">
                <path class="default" d="M129.592 26.756h6.48c1.196 0 2.16.954 2.16 2.14V46.02c0 1.186-.964 2.14-2.16 2.14h-6.48a2.146 2.146 0 0 1-2.16-2.14V28.896c0-1.186.963-2.14 2.16-2.14z"/>
                <path class="orange" d="M129.592 5.351h6.48c1.196 0 2.16.955 2.16 2.14v6.422c0 1.186-.964 2.14-2.16 2.14h-6.48a2.146 2.146 0 0 1-2.16-2.14V7.492c0-1.186.963-2.14 2.16-2.14z"/>
            </g>
            
            
            <g id="logo-n" class="default">
                <path d="M142.551 16.053h6.48c1.196 0 2.16.955 2.16 2.14V46.02c0 1.186-.964 2.14-2.16 2.14h-6.48a2.146 2.146 0 0 1-2.16-2.14V18.194c0-1.186.963-2.14 2.16-2.14z"/>
                <path d="M155.51 16.053c-1.196 0-2.16.955-2.16 2.141v6.421c0 1.186.964 2.141 2.16 2.141h10.808l-.008 19.264c-.07 1.184.964 2.14 2.16 2.14h6.48c1.196 0 2.16-.954 2.16-2.14V28.896c0-1.186-.964-2.14-2.16-2.14h-3.25l.01-8.562c.06-1.184-.963-2.14-2.16-2.14z"/>
            </g>
            
            
            <path id="curly-right" class="default" 
                d="M190.6.018c4.459 0 7.816.764 10.072 2.292 2.46 1.672 3.69 4.275 3.69 7.81v15.194c0 1.242.436 2.102 1.307 2.58.77.477 1.825.511 3.23.5.872-.005 1.563.264 2.076.932.461.573.692 1.88.692 2.787 0 .86-.231 2.167-.692 2.788-.513.668-1.205.884-2.076.931-1.438.078-2.46.263-3.23.788-.871.573-1.307 1.552-1.307 2.937v14.909c0 3.104-1.23 5.516-3.69 7.235-2.41 1.672-5.767 2.508-10.073 2.508-.82.048-1.486-.263-1.999-.931-.461-.574-.692-1.88-.692-2.788 0-.907.23-1.671.692-2.292.513-.717 1.18-1.027 2-.932 2.357-.047 2.803-.262 3.623-.644 1.282-.526 1.923-1.6 1.923-3.224V38.346c0-1.194.282-2.34.845-3.439.564-1.194 1.333-2.101 2.307-2.722a7.882 7.882 0 0 1-2.307-2.65 7.58 7.58 0 0 1-.845-3.511V11.818c0-1.432.09-3.223-1.351-4.141-1.442-.919-2.043-.717-4.196-.717-.82 0-1.486-.334-1.999-1.003-.461-.62-.692-1.36-.692-2.22 0-.908.23-2.239.692-2.86.513-.668 1.18-.955 2-.86z"/>
            
            
            <g id="cogs-group" class="orange">
                <path class="cogs" id="cog1"
                    d="M68.661 1.334c-.15 0-.304.027-.452.082a11.653 11.653 0 0 0-3.345 1.938 1.282 1.282 0 0 0-.292 1.636l.855 1.49a8.996 8.996 0 0 0-1.657 2.855h-1.72c-.625 0-1.167.459-1.27 1.084a11.74 11.74 0 0 0 0 3.866 1.286 1.286 0 0 0 1.27 1.073h1.72a8.996 8.996 0 0 0 1.657 2.855l-.855 1.49a1.294 1.294 0 0 0 .292 1.636c.99.823 2.115 1.48 3.345 1.938.594.219 1.26-.01 1.573-.562l.855-1.49a9.26 9.26 0 0 0 3.303 0l.854 1.49c.313.552.98.781 1.574.562a11.652 11.652 0 0 0 3.345-1.938c.49-.396.604-1.094.291-1.636l-.854-1.49a8.995 8.995 0 0 0 1.657-2.855h1.719c.625 0 1.167-.458 1.271-1.084a11.74 11.74 0 0 0 0-3.866 1.286 1.286 0 0 0-1.271-1.073h-1.72A8.995 8.995 0 0 0 79.15 6.48l.854-1.49a1.294 1.294 0 0 0-.291-1.636 11.514 11.514 0 0 0-3.345-1.938 1.288 1.288 0 0 0-1.574.563l-.854 1.49a9.26 9.26 0 0 0-3.303 0l-.855-1.49a1.275 1.275 0 0 0-1.12-.645zm3.576 7.245c.896-.012 1.867.291 2.807 1.017 3.085 4.011-1.49 8.586-5.501 5.501-2.362-3.071-.234-6.479 2.694-6.518z" />
                <path class="cogs" id="cog2"
                    d="M45.223 12.235c-.987.003-1.965.088-2.918.25a1.845 1.845 0 0 0-1.518 1.821v2.611a13.309 13.309 0 0 0-4.253 2.456l-2.255-1.302a1.852 1.852 0 0 0-2.347.411c-1.255 1.503-2.58 3.223-3.27 5.098a1.847 1.847 0 0 0 .814 2.247l2.58 1.309a13.422 13.422 0 0 0 0 4.912l-2.58 1.301a1.87 1.87 0 0 0-.814 2.255c.69 1.867 2.015 3.587 3.27 5.09.573.69 1.572.86 2.347.41l2.255-1.293a13.454 13.454 0 0 0 4.253 2.456v2.603c0 .906.658 1.673 1.55 1.828 1.975.34 3.974.325 5.88 0a1.854 1.854 0 0 0 1.526-1.828v-2.603a13.308 13.308 0 0 0 4.253-2.456l2.255 1.301c.782.45 1.774.28 2.347-.41 1.255-1.503 2.611-3.223 3.3-5.098a1.863 1.863 0 0 0-.813-2.255l-2.61-1.301a13.463 13.463 0 0 0 0-4.92l2.61-1.301c.783-.457 1.085-1.41.775-2.255-.69-1.875-2.007-3.595-3.262-5.098a1.854 1.854 0 0 0-2.347-.41l-2.255 1.301a13.455 13.455 0 0 0-4.253-2.456v-2.603c0-.906-.659-1.673-1.55-1.828a17.565 17.565 0 0 0-2.97-.243zm.127 11.754c4.356.064 7.525 5.126 4.013 9.693-5.965 4.587-12.775-2.223-8.189-8.188 1.398-1.075 2.843-1.524 4.176-1.505z"/>
                <path class="cogs" id="cog3"
                    d="M68.178 35.063c-.192 0-.388.035-.577.105a14.883 14.883 0 0 0-4.273 2.475 1.637 1.637 0 0 0-.372 2.09l1.091 1.902a11.49 11.49 0 0 0-2.116 3.647h-2.196c-.799 0-1.49.585-1.624 1.384a14.995 14.995 0 0 0 0 4.938c.134.798.825 1.37 1.624 1.37h2.196a11.49 11.49 0 0 0 2.116 3.647l-1.091 1.903c-.4.692-.24 1.584.372 2.09a14.707 14.707 0 0 0 4.273 2.475c.758.28 1.61-.014 2.01-.719l1.09-1.903c1.398.253 2.835.253 4.22 0l1.09 1.903c.4.705 1.251.998 2.01.719a14.882 14.882 0 0 0 4.272-2.476 1.637 1.637 0 0 0 .373-2.089l-1.091-1.903a11.489 11.489 0 0 0 2.115-3.647h2.196c.799 0 1.491-.585 1.624-1.384.28-1.663.266-3.34 0-4.937a1.643 1.643 0 0 0-1.624-1.37H83.69a11.488 11.488 0 0 0-2.115-3.648l1.09-1.903c.4-.692.24-1.583-.372-2.09a14.705 14.705 0 0 0-4.272-2.474 1.645 1.645 0 0 0-2.01.718l-1.09 1.903a11.827 11.827 0 0 0-4.22 0l-1.09-1.903a1.628 1.628 0 0 0-1.433-.823zm4.567 9.245c1.145-.016 2.385.37 3.586 1.293 3.94 5.124-1.903 10.967-7.027 7.027-3.016-3.923-.298-8.267 3.44-8.32z"/>
            </g>
            
        </svg>
        <div class="frontend-development">
            <span>F</span>
            <span>R</span>
            <span>O</span>
            <span>N</span>
            <span>T</span>
            <span>E</span>
            <span>N</span>
            <span>D</span>
            <span>D</span>
            <span>E</span>
            <span>V</span>
            <span>E</span>
            <span>L</span>
            <span>O</span>
            <span>P</span>
            <span>M</span>
            <span>E</span>
            <span>N</span>
            <span>T</span>
        </div>
    </section>
</div>
</template>

<script lang="ts">
import Vue from 'vue';

export default Vue.extend({
    methods: {
        closeMe(): void {
            this.$emit('closeAnimation');
        },
    },
});
</script>

<style lang="scss">
@import '../../scss/variables';

$defaultColor: $dark;
$orangeColor: $orange;

#animation-background {
    position: fixed;
    z-index: 1000;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: $light;
    #animation-container {
        text-align: center;
    }
    button {
        cursor: pointer;
        position: fixed;
        top: 2rem;
        right: 2rem;        
        background-color: $dark;
        opacity: .3;
        width: 50px;
        height: 50px;
        border: none;
        border-radius: 50%;    
        transition: opacity .5s ease;
        span {
            color: $light;
            font-family: $mont-light;
            font-size: 3.5rem;
            position: relative;
            top: -10px;
        }
        &:hover {
            opacity: .6;
        }
    }
}


svg#welcome-animation {
    width: 250px;
    height: auto;

    @media (min-width: $md) {
        width: 500px
    }
    
    path { stroke: none; }
    .default, .default path { fill: $defaultColor }
    .orange,  .orange path  { fill: $orangeColor }
    
    transform-origin: center;
           
    #cogs-group {
        transform: translateX(20%) scaleX(1);
        #cog1 {
            transform-origin: 34.1% 19.2%;
            animation: rotateCog 1.5s infinite linear;
        }
        #cog2 {
            transform-origin: 21.4% 46.2%;
            animation: rotateCog 2s infinite linear reverse;
        }
        #cog3 {
            transform-origin: 34.5% 76.45%;
            animation: rotateCog 1.75s infinite linear;
        }
        @keyframes rotateCog {
            from { transform: rotate(0); }
            to { transform: rotate(360deg); }
        }

        transform-origin: 28% 50%;
        animation: closeCogs .2s 3s linear forwards; 
        @keyframes closeCogs {
            0%   { transform: translateX(20%) scaleX(1); }
            100% { transform: translateX(20%) scaleX(0); }
        }            
    }

    #logo-p {
        transform-origin: 25% 50%;
        transform: translateX(24%) scaleX(0);
        animation-fill-mode: forwards;
        animation-timing-function: ease;
        animation-name: logoP-open, logoP-slideLeft, logoP-firstCloseOpen, logoP-secondCloseOpen;
        animation-delay: 3.2s, 4s, 5s, 8.4s;
        animation-duration: .2s, .5s, .6s, .6s;
        @keyframes logoP-open {
            0%   { transform: translateX(24%) scaleX(0); }
            100% { transform: translateX(24%) scaleX(1); }
        } 
        @keyframes logoP-slideLeft {
            0%   { transform: translateX(24%) scaleX(1); }
            100% { transform: translateX(0) scaleX(1); }
        } 
        @keyframes logoP-firstCloseOpen {
            0%   { transform-origin: 10% 50%; 
                   transform: translateX(0) scaleX(1); opacity: 1; }
            50%  { transform: translateX(-10%) scaleX(0); opacity: 0; }
            100% { transform: translateX(0) scaleX(1); opacity: 1; }
        }
        @keyframes logoP-secondCloseOpen {
            0%   { transform: translateX(0) scaleX(1); opacity: 1; }
            50%  { transform: translateX(-10%) scaleX(0); opacity: 0; }
            100% { transform: translateX(-3%) scaleX(1); opacity: 1; }
        }
    }

    #curly-left {
        transform: translateX(22%);
        animation-fill-mode: forwards;
        animation-timing-function: ease;
        animation-name: cl-firstClose, cl-slideLeft;
        animation-delay: 3s, 4s;
        animation-duration: .5s;
        @keyframes cl-firstClose {
            0%   { transform: translateX(22%); }
            40%  { transform: translateX(35%); }
            100% { transform: translateX(27%); }
        }
        @keyframes cl-slideLeft {
            0%   { transform: translateX(27%); }
            100% { transform: translateX(0); }
        }
    }
    
    #curly-right {
        transform: translateX(-25%); 
        animation-fill-mode: forwards;
        animation-timing-function: ease;
        animation-name: cr-firstClose, cr-slideLeft, cr-slideRight, cr-secondClose;
        animation-delay: 3s, 4s, 5s, 8.4s;
        animation-duration: .5s, .5s, .5s, .8s;
        @keyframes cr-firstClose {
            0%   { transform: translateX(-25%); }
            40%  { transform: translateX(-38%); }
            100% { transform: translateX(-30%); }
        }
        @keyframes cr-slideLeft {
            0%   { transform: translateX(-30%); }
            100% { transform: translateX(-53%); }
        }
        @keyframes cr-slideRight {
            0%   { transform: translateX(-53%); }
            40%  { transform: translateX(-75%); }
            100% { transform: translateX(0); }
        }
        @keyframes cr-secondClose {
            0%   { transform: translateX(0); }
            40%  { transform: translateX(-75%); }
            100% { transform: translateX(-57%); }
        }
    }
    
     
    #logo-dash, #logo-k, #logo-i, #logo-n {
        opacity: 0;
        animation-name: spinIn, spinOut;
        animation-fill-mode: forwards;
        animation-timing-function: ease;        
        animation-duration: .6s;
    }    
    #logo-dash { 
        transform-origin: 38% 50%;
        animation-delay: 5.2s, 8.3s; 
    }
    #logo-k { 
        transform-origin: 50% 50%;
        animation-delay: 5.3s, 8.2s; 
    }
    #logo-i { 
        transform-origin: 63% 50%; 
        animation-delay: 5.4s, 8.1s;
    }
    #logo-n { 
        transform-origin: 75% 50%; 
        animation-delay: 5.5s, 8.0s;
    }    
    @keyframes spinIn {
        from { opacity: 0; transform: rotateY(0deg);   } 
        to   { opacity: 1; transform: rotateY(360deg); }
    } 
    @keyframes spinOut {
        from { opacity: 1; transform: rotateY(360deg); } 
        to   { opacity: 0; transform: rotateY(0deg);   }
    }
    
    animation-fill-mode: forwards;
    animation-timing-function: ease;
    animation-name: blurIn, blurOut;
    animation-delay: 0s, 9s;
    animation-duration: 1s;
    @keyframes blurIn {
        0%   { filter: blur(10px); opacity: 0; }
        100% { filter: blur(0px); opacity: 1; }
    }
    @keyframes blurOut {
        0%   {
            filter: blur(0px); 
            opacity: 1; 
            transform: translate(0, 0) scale(1); 
        }
        70%  {
            filter: blur(10px);
            opacity: 1; 
            transform: translate(-50px, -50px) scale(.3); 
        }
        100% { 
            filter: blur(10px);
            opacity: 0; 
            transform: translate(-200px, -200px) scale(0); 
        }
    }
}

.frontend-development {
    font-family: $mont-reg;
    color: $orangeColor;
    font-size: 1rem;
    margin-top: 0.5rem;
    span {
        display: inline-block;
        transform: translate(-200%, 100%) rotate(45deg);
        opacity: 0;
        margin-right: .03rem;
        &:nth-child(8) {
            margin-right: .5rem;
        }
        animation: lettersIn .15s ease forwards;
        @for $i from 1 through 19 {
            &:nth-child(#{$i}) {
                animation-delay: 5.5s + $i / 30; 
            }
        }
    }
    @media (min-width: $md) {
        font-size: 1.8rem;
        span {
            margin-right: .17rem;
            &:nth-child(8) {
                margin-right: 1.4rem;
            }
        }
    }

    @keyframes lettersIn {
        0%   { transform: translate(-200%, 200%) rotate(45deg); opacity: 0; }
        60%  { transform: translate(0, -20%) rotate(-5deg); opacity: 0.3; }
        100% { transform: translate(0, 0) rotate(0); opacity: 1; }
    }
    
    animation: textOut .7s 7.5s ease forwards;
    @keyframes textOut {
        0%   { filter: blur(0); opacity: 1; }
        100% { filter: blur(5px); opacity: 0; } 
    }
}

</style>